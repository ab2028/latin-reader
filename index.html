<!DOCTYPE html>
<html lang="la">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cornelius Nepos – Atticus 2</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="container">
    <header id="site-header">
      <nav id="chapters">
        <button class="chapter-btn" data-ch="1">Chapter 1</button>
        <button class="chapter-btn" data-ch="2">Chapter 2</button>
        <button class="chapter-btn" data-ch="6">Chapter 6</button>
        <button class="chapter-btn" data-ch="7">Chapter 7</button>
        <button class="chapter-btn" data-ch="19">Chapter 19</button>
        <button class="chapter-btn" data-ch="20">Chapter 20</button>
        <button class="chapter-btn" data-ch="21">Chapter 21</button>
        <button class="chapter-btn" data-ch="22">Chapter 22</button>
      </nav>
    </header>
    <!-- top-center instructions button -->
    <div id="instructions-anchor">
      <button id="instructions-btn" aria-haspopup="dialog" aria-controls="instructions-modal">Instructions!</button>
    </div>
    <!-- Latin text -->
    <main id="latin-text">
      <p>Loading Latin text…</p>
    </main>

    <!-- Right side: notes (top) + vocab (bottom) -->
    <aside id="right-pane">
      <section id="notes">
        <div class="pane-header">
          <h2>Notes</h2>
          <div id="creator-notes-toggle" class="creator-only pane-toggle" role="tablist" aria-label="Notes panels" data-pane-group="notes">
            <button type="button" class="pane-tab" data-pane="book-notes-pane" data-pane-group="notes" role="tab" aria-selected="true">Notes</button>
            <button type="button" class="pane-tab" data-pane="your-notes-pane" data-pane-group="notes" role="tab" aria-selected="false">Your Notes</button>
          </div>
        </div>
        <div id="book-notes-pane" class="pane-section" data-pane-target="book-notes-pane" data-pane-group="notes">
          <div id="notes-content">
            <p><em>Select a word or sentence to add a note.</em></p>
          </div>
        </div>
        <div id="your-notes-pane" class="pane-section creator-only" data-pane-target="your-notes-pane" data-pane-group="notes" hidden>
          <p class="creator-hint">Your personal notes show as gentle red highlights. Add one with the plus sign.</p>
          <div id="your-notes-controls" class="creator-only" aria-label="Add a custom note" role="group">
            <button type="button" id="your-notes-add" class="creator-plus-btn" aria-label="Add a custom note">＋</button>
          </div>
          <form id="your-notes-form" class="creator-inline-form creator-only" aria-label="Create a custom note" hidden>
            <label class="creator-field">
              <span>Word or phrase</span>
              <input type="text" id="your-notes-word" name="phrase" required>
            </label>
            <label class="creator-field">
              <span>Your note</span>
              <textarea id="your-notes-text" name="note" rows="3" required></textarea>
            </label>
            <div class="creator-form-actions">
              <button type="submit" class="creator-primary">Save note</button>
              <button type="button" id="your-notes-cancel" class="creator-secondary">Cancel</button>
            </div>
          </form>
          <div id="your-notes-list" class="creator-notes-list"></div>
        </div>
      </section>

      <!-- separator between notes and vocab (non-scrolling) -->
      <div class="notes-vocab-sep" aria-hidden="true"></div>

      <section id="vocab">
        <div class="pane-header">
          <h2>Vocabulary</h2>
          <div id="creator-pane-toggle" class="creator-only pane-toggle" role="tablist" aria-label="Vocabulary panels" data-pane-group="vocab">
            <button type="button" class="pane-tab" data-pane="whitaker-pane" data-pane-group="vocab" role="tab" aria-selected="true">Vocab</button>
            <button type="button" class="pane-tab" data-pane="your-vocab-pane" data-pane-group="vocab" role="tab" aria-selected="false">Your Vocab</button>
          </div>
        </div>
        <div id="whitaker-pane" class="pane-section" data-pane-target="whitaker-pane" data-pane-group="vocab">
          <div id="vocab-list"></div>
        </div>
        <div id="your-vocab-pane" class="pane-section creator-only" data-pane-target="your-vocab-pane" data-pane-group="vocab" hidden>
          <p class="creator-hint">Words you add here appear as soft pink highlights in the Latin text.</p>
          <div id="your-vocab-list" class="creator-list"></div>
        </div>
      </section>
    </aside>
  </div>

  <script src="script.js"></script>
  <div id="contrast-controls" class="contrast-controls" role="group" aria-label="Display mode">
    <button type="button" class="contrast-btn" data-theme="default" aria-pressed="false">Default</button>
    <button type="button" class="contrast-btn" data-theme="high" aria-pressed="false">High Contrast</button>
  </div>
  <!-- Inline modal for instructions -->
  <div id="instructions-modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-overlay" data-action="close"></div>
    <div class="modal-content" role="document">
      <header class="modal-header">
        <h3>Instructions</h3>
        <button class="modal-close" aria-label="Close instructions" data-action="close">✕</button>
      </header>
      <div class="modal-body">
        <p class="modal-intro">This is an online version of Cornelius Nepos' Life of Atticus. </p>
        <p> </p>
        <ul>
          <li><strong>Vocabulary.</strong> LEFT CLICK on a word to run a Whitaker’s Words lookup (internet connection required). Results appear in the Vocabulary pane.</li>
          <li><strong>Notes.</strong> Yellow highlighted text indicates a note is available. To load notes: SHIFT + L CLICK. To see a quick popup: HOVER over the highlighted text. Notes are copied from the Three Lives: Alcibiades, Dion, Atticus book.</li>
          <li><strong>Errors.</strong> Please email aberenji1@hwemail.com if you would like to report any errors.</li>
        </ul>
        <p class="modal-dismiss">Close this modal by using the ✕ button, pressing <kbd>Esc</kbd>, or clicking on the shaded backdrop.</p>
      </div>
    </div>
  </div>
</body>
</html>
